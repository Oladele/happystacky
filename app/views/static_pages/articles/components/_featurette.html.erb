<!-- anchor link target with css to accomodate fixed navbar -->
<a name= <%= article_slug %> class="featurette-link-target"></a>

<div class="featurette-heading clearfix">
  
  <!-- variables that should be passed to this partial -->
  <% title = raw(title) %>
  <% featurette_heading = raw(featurette_heading)  %>
  <% featurette_image %>
  <% featurette_image_alt %>
  <% article_slug %>
  <% more_content %>
  <% is_last = is_last || false %>
  
  <!-- additional variables used by this partial-->  
  <% more_link_class_name = "more-link-"+article_slug %>
  <% more_content_id = "more-content-"+article_slug %>
  <% more_content_href = "#"+ more_content_id %>
  <% more_content_aria  = more_content_id %>
  

  <!-- Large Screen Only: Featurette Image -->
  <%if featurette_image %>
    <%= image_tag(featurette_image, class: "featurette-image pull-right", width:"300", alt: featurette_image_alt) %>        
  <% end %>
  
  <h1> <%= title %> </h1>
  
  <!-- Featurette text -->
  <h2 class="featurette-heading">
    <span class="text-muted featurette-text">
      <%= featurette_heading %>
    </span>
    
    <!-- Mobile Only: Featurette Image -->
    <%if featurette_image %>
      <%= image_tag(featurette_image, class: "mobile-featurette-image img-responsive center-block", alt: featurette_image_alt) %>
    <% end %>
    
    <!-- More/Less Link -->
    <% if is_last %>
      <div class="featurette-heading-more-link" >
          <span class = "is_last" > Keep on building </span>
      </div>
    <% else %>
      <div class="featurette-heading-more-link" >
        <a  class="toggle-more-less <%=more_link_class_name%>" 
            data-toggle="collapse" 
            href=<%=more_content_href%> 
            aria-expanded="false" 
            aria-controls=<%=more_content_aria%>
            >
          <span>more...</span><span class="hidden">less...</span>
        </a>          
      </div>
    <% end %>
  </h2>
  
</div>

<% if !is_last %>
  <%= render 'static_pages/articles/components/more_content',
    more_content: more_content,
    featurette_image: featurette_image,
    featurette_image_alt: featurette_image_alt,
    more_link_class_name: more_link_class_name,
    more_content_href: more_content_href,
    more_content_aria: more_content_aria,
    more_content_id: more_content_id

  %>
<% end %>
